# springboot-study

인프런 김영한님의 스프링 입문 강의를 학습했습니다.
spring boot에 대한 전반적인 흐름을 이해하기 위한 작은 회원가입 프로젝트를 만들었습니다.
view 템플릿은 **Thymeleaf**를 사용했습니다.
DB는 **H2 DB**를 사용했습니다.

# 미리보기

![https://user-images.githubusercontent.com/100299692/155844753-3b08200e-78af-4664-a2fe-259c947c5451.png](https://user-images.githubusercontent.com/100299692/155844753-3b08200e-78af-4664-a2fe-259c947c5451.png)

메인페이지

![https://user-images.githubusercontent.com/100299692/155844774-9c23d1a4-05c3-4306-82b4-4e0decc9dfd5.png](https://user-images.githubusercontent.com/100299692/155844774-9c23d1a4-05c3-4306-82b4-4e0decc9dfd5.png)

전체 유저 조회 페이지

![https://user-images.githubusercontent.com/100299692/155844797-c21d8304-c51c-424c-942b-7fdc7d0869f5.png](https://user-images.githubusercontent.com/100299692/155844797-c21d8304-c51c-424c-942b-7fdc7d0869f5.png)

마이페이지

---

## 강의에서 학습한 내용

- spring boot 프로젝트 환경설정
- 엔티티, 도메인, 모델, 레포지토리, 서비스 등 기본 용어에 대한 학습
- DI 의존관계 주입
- 테스트 코드를 작성하는 방법
- 스프링빈
- DB에 데이터를 저장하는 방법
    - 순수 jdbc
    - spring jdbc template
    - JPA
    - spring data JPA
- AOP

강의에서는 위의 기술을 이용하여

1. view에서 아이디를 입력받고
2. 가입을 하여 DB에 넣고
3. 가입한 회원들의 리스트를 조회하는
간단한 프로젝트를 만들었습니다.

## 스스로 학습해본 내용

제가 만들다보며 스스로 기능을 추가하며 배우게 된 내용들입니다.

- **컬럼을 2개 더 추가**했습니다.
    - 비밀번호 password (String)
    - 등급 level (int)
    총 두 가지 컬럼을 추가하였습니다.
- 회원 가입시 정규표현식을 이용하여 **유효성 검사**를 거치고 기준에 부합하는 유저만 DB에 저장하는 기능을 구현했습니다.
    - **닉네임 name** : 영문 혹은 한글 3~12자리
    - **비밀번호 password** : 숫자, 영문, 특수문자를 모두 포함한 8~15자리
- **로그인 기능**을 구현했습니다. (아이디와 비밀번호가 일치하면 로그인)
- 로그인 하면 **마이페이지**로 이동합니다. 그곳에서 로그인한 유저의 데이터를 불러와 볼 수 있는 기능을 구현했습니다.
부끄럽지만 복잡한 방식으로 구현했습니다 ㅠㅠ
    1. 세션에 올바르게 로그인한 유저의 닉네임을 저장합니다
    2. DB에 중복된 닉네임이 들어갈 수 없기 때문에, 세션에 저장된 닉네임으로 로그인 유저 객체를 찾습니다.
    3. 로그인 유저 객체를 Model에 로그인 유저의 정보를 담습니다.
    4. View에서 Model의 데이터를 꺼내 화면에 출력합니다.
- 마이페이지에서 **레벨업** 버튼을 누르면 유저의 레벨이 올라갑니다.
- **회원 탈퇴** 기능을 구현하였습니다
  1. 마이페이지에서 가입한 회원을 삭제하는 기능을 구현했습니다.
  2. 초기 MemberRepository 인터페이스에는 delete 메서드가 없었기 때문에 새로 생성해주었습니다.
  3. 그러면서 모든 레포지토리 클래스에 delete 메서드를 추가해주어야 했습니다.
  4. SpringDataJpaRepository 클래스에만 delete 메서드를 구현하고 나머지 레포지토리에선 그냥 return만 해주었습니다.

## 공부하며 느낀점

실은 이번이 **두 번째 수강**입니다!

처음 들었을 땐 도무지 이해가 가지 않아서 한 강의당 10번은 넘게 멈춰서 검색하고 돌려보고 했었습니다. 특히나 DI 부분...

첫 완강 후 막연하게 '뭔가 기능을 더 넣어보고 싶다!' 까지는 생각이 들었지만 어떻게 구현해야할지 도무지 감이 잡히질 않았습니다.
그리하여 저의 두 번째 수강 목표는 ***'내가 원하는 기능을 조금이라도 꼭 넣어보자! 코드가 938948줄이 되더라도...! 아주 행주짝이 되더라도...!'*** 였습니다.

처음 들을 때보다 머리에 꽂히는 이야기가 많아서 학습 내내 *내가 이런 중요한 얘기들을 놓쳤었구나!* 하고 새삼 반성하게 되었습니다 ㅠ_ㅠ.
원하는 기능은 구글링과 삽질을 통해 어떻게든 구현했지만, 이 코드가 좋은 코드인지 확신이 서질 않습니다. 높은 확률로 행주짝이 맞겠지요...
하지만 **만들어보는동안 고민하는 시간이 즐거웠고 새로 알게된 점도 많았으며 또 결국은 움직이는 뭔가를 만들어냈기 때문에 뿌듯합니다.**

아 참 그리고...css는 재밌습니다! ㅎㅎ

## 개선하고 싶은 내용

- ~~Delete 기능을 추가하여 완전한 CRUD를 구현하고 싶습니다.~~ 구현 완료
- 레벨을 Boolean 타입으로 설정하고 싶습니다. (어차피 레벨은 0, 1둘 뿐이라서...ㅋㅋ)
- 유저의 레벨에 따라서 마이 페이지에서 보이는 View가 달랐으면 좋겠습니다. (하지만 Thymeleaf 문법보단 스프링에 집중하고 싶어서 우선 구현하지 않았음!)
